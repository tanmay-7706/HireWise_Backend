# HireWise Backend üöÄ

A robust REST API backend for HireWise - an AI-powered career management platform built with Node.js, Express, MongoDB, and Google Gemini AI.

## üéØ Features

### Core Features
- **Authentication System**: Secure JWT-based authentication with bcrypt password hashing + Google OAuth
- **Resume Management**: Upload, parse, and store resumes with structured data extraction
- **AI-Powered Resume Screening**: Screen resumes against job descriptions using Gemini 2.5 Flash
- **Mock Interview**: AI-powered interview practice with real-time feedback
- **Career Roadmap Generation**: Personalized learning paths generated by AI
- **Job Description Management**: CRUD operations for job descriptions

### AI Capabilities (Powered by Gemini 2.5 Flash)
- Resume analysis and scoring
- Interview question generation
- Real-time interview chat
- Career roadmap generation

## üìã Tech Stack

- **Runtime**: Node.js 18+
- **Framework**: Express.js
- **Database**: MongoDB with Mongoose ODM
- **Authentication**: JWT + bcrypt + Google OAuth
- **AI**: Google Gemini 2.5 Flash API
- **File Upload**: Multer

## üóÇÔ∏è Project Structure

```
hirewise-backend/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ db.js                  # MongoDB connection
‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îî‚îÄ‚îÄ oAuth.js               # Google OAuth controller
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ mockJDs.js             # Mock job descriptions
‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îú‚îÄ‚îÄ auth.js                # JWT authentication middleware
‚îÇ   ‚îî‚îÄ‚îÄ errorHandler.js        # Global error handler
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ User.js                # User schema
‚îÇ   ‚îú‚îÄ‚îÄ Resume.js              # Resume schema
‚îÇ   ‚îú‚îÄ‚îÄ JobDescription.js      # Job description schema
‚îÇ   ‚îú‚îÄ‚îÄ Interview.js           # Interview schema
‚îÇ   ‚îî‚îÄ‚îÄ CareerRoadmap.js       # Career roadmap schema
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ auth.js                # Authentication routes
‚îÇ   ‚îú‚îÄ‚îÄ resume.js              # Resume routes
‚îÇ   ‚îú‚îÄ‚îÄ jd.js                  # Job description routes
‚îÇ   ‚îú‚îÄ‚îÄ interview.js           # Interview routes
‚îÇ   ‚îú‚îÄ‚îÄ career.js              # Career roadmap routes
‚îÇ   ‚îú‚îÄ‚îÄ user.js                # User routes
‚îÇ   ‚îî‚îÄ‚îÄ mockjd.js              # Mock JD routes
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ aiService.js           # Gemini AI service
‚îú‚îÄ‚îÄ server.js                  # Entry point
‚îî‚îÄ‚îÄ package.json
```

## üõ£Ô∏è API Routes

### Authentication
- **POST /api/auth/signup** - User registration
- **POST /api/auth/login** - User authentication
- **POST /api/auth/google** - Google OAuth login
- **GET /api/auth/users** - Get all users (testing)

### Resumes
- **GET /api/resume** - Get all resumes (authenticated)
- **GET /api/resume/:id** - Get single resume
- **POST /api/resume/upload** - Upload resume
- **PUT /api/resume/:id** - Update resume
- **DELETE /api/resume/:id** - Delete resume
- **POST /api/resume/:id/screen** - AI screen resume against JD

### Job Descriptions
- **GET /api/jd** - Get all job descriptions
- **GET /api/jd/:id** - Get single JD
- **POST /api/jd** - Create job description
- **PUT /api/jd/:id** - Update job description
- **DELETE /api/jd/:id** - Delete job description

### Mock Job Descriptions
- **GET /api/mockjd** - Get all mock JDs
- **GET /api/mockjd/:id** - Get single mock JD

### Interviews
- **GET /api/interview** - Get all interviews
- **GET /api/interview/:id** - Get single interview
- **POST /api/interview/start** - Start new interview
- **PUT /api/interview/:id** - Update interview
- **DELETE /api/interview/:id** - Delete interview
- **POST /api/interview/:id/chat** - AI chat with interviewer
- **POST /api/interview/:id/questions** - Generate interview questions

### Career Roadmap
- **GET /api/career** - Get all roadmaps
- **GET /api/career/:id** - Get single roadmap
- **POST /api/career/generate** - Generate AI roadmap
- **DELETE /api/career/:id** - Delete roadmap

### User
- **GET /api/user/profile** - Get user profile

---

## üì¨ Postman API Usage Examples

> **Base URL (Deployed)**: `https://hirewise.up.railway.app`  
> **Base URL (Local)**: `http://localhost:5000`

### Authentication

**Signup**
- **URL**: `https://hirewise.up.railway.app/api/auth/signup`
- **Method**: `POST`
- **Body** (JSON):
```json
{
  "name": "John Doe",
  "email": "john@example.com",
  "password": "securepassword123"
}
```

**Login**
- **URL**: `https://hirewise.up.railway.app/api/auth/login`
- **Method**: `POST`
- **Body** (JSON):
```json
{
  "email": "john@example.com",
  "password": "securepassword123"
}
```
- **Response**: Returns a `token`. Use in `Authorization` header: `Bearer <token>`

**Google OAuth Login**
- **URL**: `https://hirewise.up.railway.app/api/auth/google`
- **Method**: `POST`
- **Body** (JSON):
```json
{
  "credential": "<google_id_token>"
}
```

---

### Resumes

**Get All Resumes**
- **URL**: `https://hirewise.up.railway.app/api/resume`
- **Method**: `GET`
- **Headers**: `Authorization: Bearer <token>`

**Upload Resume**
- **URL**: `https://hirewise.up.railway.app/api/resume/upload`
- **Method**: `POST`
- **Headers**: `Authorization: Bearer <token>`
- **Body** (form-data):
  - `resume`: (file) PDF file
  - `filename`: `my_resume.pdf`
  - `parsedData`: (JSON string)
```json
{
  "name": "John Doe",
  "email": "john@example.com",
  "phone": "+1234567890",
  "skills": ["JavaScript", "React", "Node.js"],
  "experience": [
    {
      "title": "Software Engineer",
      "company": "Tech Corp",
      "duration": "2020-2023"
    }
  ],
  "education": [
    {
      "degree": "B.Tech Computer Science",
      "institution": "University",
      "year": "2020"
    }
  ]
}
```

**Screen Resume Against JD**
- **URL**: `https://hirewise.up.railway.app/api/resume/:id/screen`
- **Method**: `POST`
- **Headers**: `Authorization: Bearer <token>`
- **Body** (JSON):
```json
{
  "jdId": "mock_sde"
}
```
- **Response**: Returns match score, matching skills, missing skills, and AI analysis

**Delete Resume**
- **URL**: `https://hirewise.up.railway.app/api/resume/:id`
- **Method**: `DELETE`
- **Headers**: `Authorization: Bearer <token>`

---

### Job Descriptions

**Get All Job Descriptions**
- **URL**: `https://hirewise.up.railway.app/api/jd`
- **Method**: `GET`
- **Headers**: `Authorization: Bearer <token>`

**Create Job Description**
- **URL**: `https://hirewise.up.railway.app/api/jd`
- **Method**: `POST`
- **Headers**: `Authorization: Bearer <token>`
- **Body** (JSON):
```json
{
  "title": "Senior Software Engineer",
  "company": "Tech Company",
  "description": "We are looking for an experienced software engineer...",
  "requirements": ["5+ years experience", "Strong problem solving"],
  "skills": ["JavaScript", "React", "Node.js", "MongoDB"]
}
```

**Update Job Description**
- **URL**: `https://hirewise.up.railway.app/api/jd/:id`
- **Method**: `PUT`
- **Headers**: `Authorization: Bearer <token>`
- **Body** (JSON):
```json
{
  "title": "Lead Software Engineer",
  "skills": ["JavaScript", "React", "Node.js", "AWS"]
}
```

**Delete Job Description**
- **URL**: `https://hirewise.up.railway.app/api/jd/:id`
- **Method**: `DELETE`
- **Headers**: `Authorization: Bearer <token>`

---

### Mock Job Descriptions

**Get All Mock JDs**
- **URL**: `https://hirewise.up.railway.app/api/mockjd`
- **Method**: `GET`
- **Headers**: `Authorization: Bearer <token>`

**Get Single Mock JD**
- **URL**: `https://hirewise.up.railway.app/api/mockjd/mock_sde`
- **Method**: `GET`
- **Headers**: `Authorization: Bearer <token>`

**Available Mock JD IDs**:
- `mock_sde` - Software Development Engineer
- `mock_frontend` - Frontend Developer
- `mock_backend` - Backend Developer
- `mock_fullstack` - Full Stack Developer
- `mock_data` - Data Scientist

---

### Interviews

**Start New Interview**
- **URL**: `https://hirewise.up.railway.app/api/interview/start`
- **Method**: `POST`
- **Headers**: `Authorization: Bearer <token>`
- **Body** (JSON):
```json
{
  "type": "mock"
}
```

**Chat with AI Interviewer**
- **URL**: `https://hirewise.up.railway.app/api/interview/:id/chat`
- **Method**: `POST`
- **Headers**: `Authorization: Bearer <token>`
- **Body** (JSON):
```json
{
  "message": "I have experience with React and Node.js",
  "jobTitle": "Software Engineer",
  "context": "Technical interview for a mid-level position"
}
```

**Generate Interview Questions**
- **URL**: `https://hirewise.up.railway.app/api/interview/:id/questions`
- **Method**: `POST`
- **Headers**: `Authorization: Bearer <token>`
- **Body** (JSON):
```json
{
  "jobTitle": "Frontend Developer",
  "level": "mid",
  "count": 5
}
```

**Delete Interview**
- **URL**: `https://hirewise.up.railway.app/api/interview/:id`
- **Method**: `DELETE`
- **Headers**: `Authorization: Bearer <token>`

---

### Career Roadmap

**Generate Career Roadmap**
- **URL**: `https://hirewise.up.railway.app/api/career/generate`
- **Method**: `POST`
- **Headers**: `Authorization: Bearer <token>`
- **Body** (JSON):
```json
{
  "targetRole": "Senior Software Engineer"
}
```

**Get All Roadmaps**
- **URL**: `https://hirewise.up.railway.app/api/career`
- **Method**: `GET`
- **Headers**: `Authorization: Bearer <token>`

**Delete Roadmap**
- **URL**: `https://hirewise.up.railway.app/api/career/:id`
- **Method**: `DELETE`
- **Headers**: `Authorization: Bearer <token>`

---

### User Profile

**Get User Profile**
- **URL**: `https://hirewise.up.railway.app/api/user/profile`
- **Method**: `GET`
- **Headers**: `Authorization: Bearer <token>`

---

## üóÑÔ∏è Database Schema

### User
| Field | Type | Description |
|-------|------|-------------|
| name | String | User's full name |
| email | String | Unique email address |
| password | String | Hashed password |
| createdAt | Date | Account creation date |

### Resume
| Field | Type | Description |
|-------|------|-------------|
| userId | ObjectId | Reference to User |
| fileName | String | Original file name |
| fileData | Buffer | PDF file data |
| parsedData | Object | Extracted resume data |
| createdAt | Date | Upload date |

### JobDescription
| Field | Type | Description |
|-------|------|-------------|
| userId | ObjectId | Reference to User |
| title | String | Job title |
| company | String | Company name |
| description | String | Full description |
| requirements | Array | Job requirements |
| skills | Array | Required skills |

### Interview
| Field | Type | Description |
|-------|------|-------------|
| userId | ObjectId | Reference to User |
| type | String | Interview type |
| status | String | Current status |
| createdAt | Date | Start date |

### CareerRoadmap
| Field | Type | Description |
|-------|------|-------------|
| userId | ObjectId | Reference to User |
| targetRole | String | Target career role |
| currentSkills | Array | User's current skills |
| overview | String | Roadmap overview |
| roadmap | Array | Step-by-step roadmap |

---

## üöÄ Getting Started

### Prerequisites
- Node.js 18+
- MongoDB database
- Google Gemini API key
- Google Cloud Console project (for OAuth)

### Installation

1. **Clone the repository:**
```bash
git clone <repository-url>
cd hirewise-backend
```

2. **Install dependencies:**
```bash
npm install
```

3. **Set up environment variables:**
Create a `.env` file:
```env
MONGODB_URI=mongodb+srv://user:pass@cluster.mongodb.net/hirewise
JWT_SECRET=your-super-secret-jwt-key
GEMINI_API_KEY=your-gemini-api-key
GOOGLE_CLIENT_ID=your-google-client-id
PORT=5000
```

4. **Start the server:**
```bash
# Development
npm run dev

# Production
npm start
```

---

## üìú Available Scripts

| Script | Description |
|--------|-------------|
| `npm start` | Start production server |
| `npm run dev` | Start development server with nodemon |

---

## üîê Security Features

- **Password Hashing**: bcrypt with 12 salt rounds
- **JWT Authentication**: 7-day token expiry
- **Google OAuth**: Secure third-party authentication
- **CORS**: Configured for specific origins
- **Input Validation**: Request validation on all endpoints

---

## üìù License

This project is for educational purposes.